{"openapi":"3.0.0","paths":{"/api":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":"Welcome message retrieved successfully"}},"summary":"Get welcome message","tags":["app"]}},"/api/health":{"get":{"operationId":"HealthController_check","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"summary":"Get overall health status","tags":["health"]}},"/api/health/database":{"get":{"operationId":"HealthController_checkDatabase","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"summary":"Get database health status","tags":["health"]}},"/api/health/redis":{"get":{"operationId":"HealthController_checkRedis","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"summary":"Get Redis health status","tags":["health"]}},"/api/health/memory":{"get":{"operationId":"HealthController_checkMemory","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"summary":"Get memory health status","tags":["health"]}},"/api/health/disk":{"get":{"operationId":"HealthController_checkDisk","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"summary":"Get disk health status","tags":["health"]}},"/api/health/info":{"get":{"operationId":"HealthController_getInfo","parameters":[],"responses":{"200":{"description":"Application information retrieved successfully"}},"summary":"Get application information","tags":["health"]}},"/api/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":"Usu√°rio criado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"userId":{"type":"string"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}}}}}}},"400":{"description":"Dados inv√°lidos"},"409":{"description":"Email j√° est√° em uso"}},"summary":"Registra um novo usu√°rio","tags":["auth"]}},"/api/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"Login realizado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"object","properties":{"userId":{"type":"string"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"user":{"type":"object","properties":{"id":{"type":"string"},"nome":{"type":"string"},"email":{"type":"string"},"avatar":{"type":"string"},"isPremium":{"type":"boolean"}}}}}}}}}},"401":{"description":"Credenciais inv√°lidas"}},"summary":"Autentica um usu√°rio","tags":["auth"]}},"/api/auth/forgot-password":{"post":{"operationId":"AuthController_forgotPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordDto"}}}},"responses":{"200":{"description":"Email de reset enviado (se o email existir)"}},"summary":"Solicita reset de senha","tags":["auth"]}},"/api/auth/reset-password":{"post":{"operationId":"AuthController_resetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"200":{"description":"Senha redefinida com sucesso"},"400":{"description":"Token inv√°lido ou expirado"}},"summary":"Redefine a senha","tags":["auth"]}},"/api/auth/refresh":{"post":{"operationId":"AuthController_refreshToken","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"200":{"description":"Token renovado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}}}}},"401":{"description":"Refresh token inv√°lido ou expirado"}},"summary":"Renova o access token","tags":["auth"]}},"/api/auth/logout":{"post":{"operationId":"AuthController_logout","parameters":[],"responses":{"200":{"description":"Logout realizado com sucesso"},"401":{"description":"N√£o autorizado"}},"security":[{"JWT-auth":[]}],"summary":"Realiza logout","tags":["auth"]}},"/api/auth/me":{"get":{"operationId":"AuthController_getProfile","parameters":[],"responses":{"200":{"description":"Dados do usu√°rio","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"nome":{"type":"string"},"isPremium":{"type":"boolean"},"avatar":{"type":"string"}}}}}},"401":{"description":"N√£o autorizado"}},"security":[{"JWT-auth":[]}],"summary":"Obt√©m dados do usu√°rio autenticado","tags":["auth"]}},"/api/auth/google":{"get":{"operationId":"AuthController_googleAuth","parameters":[],"responses":{"302":{"description":"Redireciona para Google OAuth"}},"summary":"Inicia autentica√ß√£o Google OAuth","tags":["auth"]}},"/api/auth/google/callback":{"get":{"operationId":"AuthController_googleAuthCallback","parameters":[],"responses":{"200":{"description":"Login OAuth realizado com sucesso"},"401":{"description":"Falha na autentica√ß√£o OAuth"}},"summary":"Callback Google OAuth","tags":["auth"]}},"/api/auth/apple":{"get":{"operationId":"AuthController_appleAuth","parameters":[],"responses":{"302":{"description":"Redireciona para Apple OAuth"}},"summary":"Inicia autentica√ß√£o Apple OAuth","tags":["auth"]}},"/api/auth/apple/callback":{"get":{"operationId":"AuthController_appleAuthCallback","parameters":[],"responses":{"200":{"description":"Login OAuth realizado com sucesso"},"401":{"description":"Falha na autentica√ß√£o OAuth"}},"summary":"Callback Apple OAuth","tags":["auth"]}},"/api/auth/link-oauth":{"post":{"operationId":"AuthController_linkOAuthAccount","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OAuthLinkDto"}}}},"responses":{"200":{"description":"Conta OAuth vinculada com sucesso"},"400":{"description":"Dados inv√°lidos"},"401":{"description":"N√£o autorizado"},"409":{"description":"Usu√°rio j√° possui conta OAuth vinculada"}},"security":[{"JWT-auth":[]}],"summary":"Vincula conta OAuth a conta existente","tags":["auth"]}},"/api/users/{id}":{"get":{"operationId":"UsersController_findById","parameters":[{"name":"id","required":true,"in":"path","description":"ID do usu√°rio","schema":{"type":"string"}}],"responses":{"200":{"description":"Perfil do usu√°rio encontrado"},"404":{"description":"Usu√°rio n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Buscar perfil de usu√°rio por ID","tags":["users"]},"put":{"operationId":"UsersController_updateProfile","parameters":[{"name":"id","required":true,"in":"path","description":"ID do usu√°rio","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"Perfil atualizado com sucesso"},"404":{"description":"Usu√°rio n√£o encontrado"},"409":{"description":"Email j√° est√° em uso"}},"security":[{"JWT-auth":[]}],"summary":"Atualizar perfil do usu√°rio","tags":["users"]},"delete":{"operationId":"UsersController_softDelete","parameters":[{"name":"id","required":true,"in":"path","description":"ID do usu√°rio","schema":{"type":"string"}}],"responses":{"204":{"description":"Conta deletada com sucesso"},"404":{"description":"Usu√°rio n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Deletar conta do usu√°rio (soft delete)","tags":["users"]}},"/api/users/{id}/password":{"put":{"operationId":"UsersController_changePassword","parameters":[{"name":"id","required":true,"in":"path","description":"ID do usu√°rio","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"204":{"description":"Senha alterada com sucesso"},"401":{"description":"Senha atual incorreta"},"404":{"description":"Usu√°rio n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Alterar senha do usu√°rio","tags":["users"]}},"/api/users/{id}/settings":{"get":{"operationId":"UsersController_getUserSettings","parameters":[{"name":"id","required":true,"in":"path","description":"ID do usu√°rio","schema":{"type":"string"}}],"responses":{"200":{"description":"Configura√ß√µes encontradas"},"404":{"description":"Usu√°rio n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Buscar configura√ß√µes do usu√°rio","tags":["users"]},"put":{"operationId":"UsersController_updateSettings","parameters":[{"name":"id","required":true,"in":"path","description":"ID do usu√°rio","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserSettingsDto"}}}},"responses":{"200":{"description":"Configura√ß√µes atualizadas"},"404":{"description":"Usu√°rio n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Atualizar configura√ß√µes do usu√°rio","tags":["users"]}},"/api/users/avatar":{"post":{"operationId":"UsersController_uploadAvatar","parameters":[],"responses":{"200":{"description":"Avatar carregado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadAvatarResponseDto"}}}},"400":{"description":"Arquivo inv√°lido ou formato n√£o suportado"}},"security":[{"JWT-auth":[]}],"summary":"Upload de avatar do usu√°rio","tags":["users"]}},"/api/users/{id}/ratings":{"post":{"operationId":"UsersController_createRating","parameters":[{"name":"id","required":true,"in":"path","description":"ID do usu√°rio a ser avaliado","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRatingDto"}}}},"responses":{"201":{"description":"Avalia√ß√£o criada com sucesso"},"400":{"description":"N√£o √© poss√≠vel avaliar a si mesmo"},"404":{"description":"Usu√°rio n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Avaliar usu√°rio","tags":["users"]},"get":{"operationId":"UsersController_getUserRatings","parameters":[{"name":"id","required":true,"in":"path","description":"ID do usu√°rio","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"P√°gina (padr√£o: 1)","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Itens por p√°gina (padr√£o: 10)","schema":{"type":"number"}}],"responses":{"200":{"description":"Lista de avalia√ß√µes"}},"security":[{"JWT-auth":[]}],"summary":"Obter avalia√ß√µes do usu√°rio","tags":["users"]}},"/api/users/{id}/avatar":{"get":{"operationId":"UsersController_getAvatarUrl","parameters":[{"name":"id","required":true,"in":"path","description":"ID do usu√°rio","schema":{"type":"string"}}],"responses":{"200":{"description":"URL do avatar","content":{"application/json":{"schema":{"type":"object","properties":{"url":{"type":"string","nullable":true}}}}}},"404":{"description":"Usu√°rio n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Obter URL do avatar do usu√°rio","tags":["users"]}},"/api/items":{"post":{"operationId":"ItemsController_create","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/CreateItemDto"}}}},"responses":{"201":{"description":"Item criado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemResponseDto"}}}}},"security":[{"JWT-auth":[]}],"summary":"Criar novo item","tags":["items"]},"get":{"operationId":"ItemsController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"P√°gina atual","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Itens por p√°gina","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"search","required":false,"in":"query","description":"Pesquisa por texto no t√≠tulo e descri√ß√£o","schema":{"type":"string"}},{"name":"categoria","required":false,"in":"query","description":"Filtrar por categoria","schema":{"type":"string"}},{"name":"subcategoria","required":false,"in":"query","description":"Filtrar por subcategoria","schema":{"type":"string"}},{"name":"tipo","required":false,"in":"query","description":"Filtrar por tipo de transa√ß√£o","schema":{"type":"string","enum":["troca","doacao","venda"]}},{"name":"condicao","required":false,"in":"query","description":"Filtrar por condi√ß√£o","schema":{"type":"string","enum":["novo","seminovo","usado"]}},{"name":"status","required":false,"in":"query","description":"Filtrar por status","schema":{"type":"string","enum":["ativo","pendente","inativo","vendido","trocado"]}},{"name":"precoMin","required":false,"in":"query","description":"Pre√ßo m√≠nimo","schema":{"type":"number"}},{"name":"precoMax","required":false,"in":"query","description":"Pre√ßo m√°ximo","schema":{"type":"number"}},{"name":"localizacao","required":false,"in":"query","description":"Filtrar por localiza√ß√£o","schema":{"type":"string"}},{"name":"latitude","required":false,"in":"query","description":"Latitude para busca por proximidade","schema":{"type":"number"}},{"name":"longitude","required":false,"in":"query","description":"Longitude para busca por proximidade","schema":{"type":"number"}},{"name":"radius","required":false,"in":"query","description":"Raio de busca em quil√¥metros","schema":{"default":10,"type":"number"}},{"name":"destacado","required":false,"in":"query","description":"Apenas itens destacados","schema":{"type":"boolean"}},{"name":"tags","required":false,"in":"query","description":"Filtrar por tags","schema":{"type":"array","items":{"type":"string"}}},{"name":"sortBy","required":false,"in":"query","description":"Campo para ordena√ß√£o","schema":{"default":"createdAt","type":"string","enum":["createdAt","updatedAt","visualizacoes","likes","preco","titulo"]}},{"name":"sortOrder","required":false,"in":"query","description":"Ordem da classifica√ß√£o","schema":{"default":"DESC","type":"string","enum":["ASC","DESC"]}}],"responses":{"200":{"description":"Lista de itens recuperada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedItemsResponseDto"}}}}},"summary":"Listar itens com filtros","tags":["items"]}},"/api/items/user/{userId}":{"get":{"operationId":"ItemsController_findByUserId","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"P√°gina atual","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Itens por p√°gina","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"search","required":false,"in":"query","description":"Pesquisa por texto no t√≠tulo e descri√ß√£o","schema":{"type":"string"}},{"name":"categoria","required":false,"in":"query","description":"Filtrar por categoria","schema":{"type":"string"}},{"name":"subcategoria","required":false,"in":"query","description":"Filtrar por subcategoria","schema":{"type":"string"}},{"name":"tipo","required":false,"in":"query","description":"Filtrar por tipo de transa√ß√£o","schema":{"type":"string","enum":["troca","doacao","venda"]}},{"name":"condicao","required":false,"in":"query","description":"Filtrar por condi√ß√£o","schema":{"type":"string","enum":["novo","seminovo","usado"]}},{"name":"status","required":false,"in":"query","description":"Filtrar por status","schema":{"type":"string","enum":["ativo","pendente","inativo","vendido","trocado"]}},{"name":"precoMin","required":false,"in":"query","description":"Pre√ßo m√≠nimo","schema":{"type":"number"}},{"name":"precoMax","required":false,"in":"query","description":"Pre√ßo m√°ximo","schema":{"type":"number"}},{"name":"localizacao","required":false,"in":"query","description":"Filtrar por localiza√ß√£o","schema":{"type":"string"}},{"name":"latitude","required":false,"in":"query","description":"Latitude para busca por proximidade","schema":{"type":"number"}},{"name":"longitude","required":false,"in":"query","description":"Longitude para busca por proximidade","schema":{"type":"number"}},{"name":"radius","required":false,"in":"query","description":"Raio de busca em quil√¥metros","schema":{"default":10,"type":"number"}},{"name":"destacado","required":false,"in":"query","description":"Apenas itens destacados","schema":{"type":"boolean"}},{"name":"tags","required":false,"in":"query","description":"Filtrar por tags","schema":{"type":"array","items":{"type":"string"}}},{"name":"sortBy","required":false,"in":"query","description":"Campo para ordena√ß√£o","schema":{"default":"createdAt","type":"string","enum":["createdAt","updatedAt","visualizacoes","likes","preco","titulo"]}},{"name":"sortOrder","required":false,"in":"query","description":"Ordem da classifica√ß√£o","schema":{"default":"DESC","type":"string","enum":["ASC","DESC"]}}],"responses":{"200":{"description":"Lista de itens do usu√°rio recuperada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedItemsResponseDto"}}}}},"summary":"Listar itens de um usu√°rio espec√≠fico","tags":["items"]}},"/api/items/{id}":{"get":{"operationId":"ItemsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"incrementView","required":false,"in":"query","description":"Incrementar contador de visualiza√ß√µes","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Item encontrado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemResponseDto"}}}}},"summary":"Buscar item por ID","tags":["items"]},"patch":{"operationId":"ItemsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateItemDto"}}}},"responses":{"200":{"description":"Item atualizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemResponseDto"}}}}},"security":[{"JWT-auth":[]}],"summary":"Atualizar item","tags":["items"]},"delete":{"operationId":"ItemsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Item removido com sucesso"}},"security":[{"JWT-auth":[]}],"summary":"Remover item (soft delete)","tags":["items"]}},"/api/items/{id}/images":{"post":{"operationId":"ItemsController_addImages","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Imagens adicionadas com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadItemImagesResponseDto"}}}}},"security":[{"JWT-auth":[]}],"summary":"Adicionar imagens ao item","tags":["items"]}},"/api/items/{id}/images/{imageIndex}":{"delete":{"operationId":"ItemsController_removeImage","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"imageIndex","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Imagem removida com sucesso"}},"security":[{"JWT-auth":[]}],"summary":"Remover imagem do item","tags":["items"]}},"/api/items/{id}/views":{"post":{"operationId":"ItemsController_incrementView","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"Visualiza√ß√£o registrada com sucesso"}},"summary":"Incrementar contador de visualiza√ß√µes","tags":["items"]}},"/api/items/{id}/stats":{"get":{"operationId":"ItemsController_getStats","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Estat√≠sticas do item","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemStatsDto"}}}}},"security":[{"JWT-auth":[]}],"summary":"Obter estat√≠sticas do item","tags":["items"]}},"/api/items/{id}/status":{"patch":{"operationId":"ItemsController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateItemStatusDto"}}}},"responses":{"200":{"description":"Status do item atualizado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemResponseDto"}}}}},"security":[{"JWT-auth":[]}],"summary":"Atualizar status do item","tags":["items"]}},"/api/discovery/feed":{"get":{"description":"Retorna itens personalizados com base em localiza√ß√£o, prefer√™ncias e filtros. Exclui itens pr√≥prios e j√° interagidos. Suporta filtros avan√ßados e cache de 2 minutos.","operationId":"DiscoveryController_getFeed","parameters":[{"name":"page","required":false,"in":"query","description":"P√°gina atual","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Itens por p√°gina","schema":{"minimum":1,"maximum":50,"default":20,"type":"number"}},{"name":"latitude","required":false,"in":"query","description":"Latitude para busca por proximidade","schema":{"type":"number"}},{"name":"longitude","required":false,"in":"query","description":"Longitude para busca por proximidade","schema":{"type":"number"}},{"name":"radius","required":false,"in":"query","description":"Raio de busca em quil√¥metros","schema":{"default":50,"type":"number"}},{"name":"categoria","required":false,"in":"query","description":"Filtrar por categoria","schema":{"type":"string"}},{"name":"tipo","required":false,"in":"query","description":"Filtrar por tipo de transa√ß√£o","schema":{"type":"string","enum":["troca","doacao","venda"]}},{"name":"condicao","required":false,"in":"query","description":"Filtrar por condi√ß√£o","schema":{"type":"string","enum":["novo","seminovo","usado"]}},{"name":"precoMin","required":false,"in":"query","description":"Pre√ßo m√≠nimo","schema":{"type":"number"}},{"name":"precoMax","required":false,"in":"query","description":"Pre√ßo m√°ximo","schema":{"type":"number"}},{"name":"tags","required":false,"in":"query","description":"Filtrar por tags","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"Feed de itens recuperado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedResponseDto"}}}},"401":{"description":"N√£o autorizado"}},"security":[{"JWT-auth":[]}],"summary":"Obter feed de descoberta","tags":["discovery"]}},"/api/discovery/like/{itemId}":{"post":{"description":"Registra um like em um item. Se houver match m√∫tuo, cria automaticamente uma conversa. Suporta likes normais e superlikes.","operationId":"DiscoveryController_likeItem","parameters":[{"name":"itemId","required":true,"in":"path","description":"ID do item a ser curtido","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LikeItemDto"}}}},"responses":{"201":{"description":"Like registrado com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LikeResponseDto"}}}},"400":{"description":"Item j√° foi curtido ou √© seu pr√≥prio item"},"404":{"description":"Item n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Curtir um item (swipe right)","tags":["discovery"]}},"/api/discovery/pass/{itemId}":{"post":{"description":"Marca um item como visto/descartado. O item n√£o aparecer√° mais no feed.","operationId":"DiscoveryController_passItem","parameters":[{"name":"itemId","required":true,"in":"path","description":"ID do item a ser descartado","schema":{"type":"string"}}],"responses":{"201":{"description":"Item descartado com sucesso"},"400":{"description":"Item j√° foi interagido ou √© seu pr√≥prio item"},"404":{"description":"Item n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Passar um item (swipe left)","tags":["discovery"]}},"/api/discovery/liked-items":{"get":{"description":"Retorna todos os itens que o usu√°rio curtiu, com indica√ß√£o de match. Suporta pagina√ß√£o.","operationId":"DiscoveryController_getLikedItems","parameters":[{"name":"page","required":false,"in":"query","description":"P√°gina atual","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Itens por p√°gina","schema":{"example":20,"type":"number"}}],"responses":{"200":{"description":"Lista de itens curtidos recuperada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LikedItemsResponseDto"}}}}},"security":[{"JWT-auth":[]}],"summary":"Listar itens curtidos","tags":["discovery"]}},"/api/discovery/liked-items/{itemId}":{"delete":{"description":"Remove o like de um item. N√£o desfaz matches j√° criados.","operationId":"DiscoveryController_removeLike","parameters":[{"name":"itemId","required":true,"in":"path","description":"ID do item para remover o like","schema":{"type":"string"}}],"responses":{"200":{"description":"Like removido com sucesso"},"404":{"description":"Like n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Remover like de um item","tags":["discovery"]}},"/api/discovery/matches":{"get":{"description":"Retorna todos os matches do usu√°rio, incluindo informa√ß√µes da conversa criada. Ordenado por data de match (mais recentes primeiro).","operationId":"DiscoveryController_getMatches","parameters":[],"responses":{"200":{"description":"Lista de matches recuperada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatchesResponseDto"}}}}},"security":[{"JWT-auth":[]}],"summary":"Listar todos os matches","tags":["discovery"]}},"/api/conversations/user/{userId}":{"get":{"description":"Retorna todas as conversas do usu√°rio com filtros (n√£o lidas, arquivadas, fixadas). Inclui informa√ß√µes do outro participante, item relacionado, √∫ltima mensagem e contadores.","operationId":"ConversationsController_getUserConversations","parameters":[{"name":"userId","required":true,"in":"path","description":"ID do usu√°rio","schema":{"type":"string"}},{"name":"filter","required":false,"in":"query","description":"Filtro de conversas","schema":{"default":"all","type":"string","enum":["all","unread","archived","pinned"]}},{"name":"page","required":false,"in":"query","description":"P√°gina atual","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Itens por p√°gina","schema":{"minimum":1,"default":20,"type":"number"}}],"responses":{"200":{"description":"Lista de conversas recuperada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConversationListResponseDto"}}}},"401":{"description":"N√£o autorizado"}},"security":[{"JWT-auth":[]}],"summary":"Listar conversas do usu√°rio","tags":["conversations"]}},"/api/conversations/{conversacaoId}/messages":{"get":{"description":"Retorna mensagens de uma conversa com pagina√ß√£o reversa (cursor-based). Apenas participantes da conversa podem acessar.","operationId":"ConversationsController_getMessages","parameters":[{"name":"conversacaoId","required":true,"in":"path","description":"ID da conversa","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"N√∫mero de mensagens por p√°gina","schema":{"minimum":1,"default":50,"type":"number"}},{"name":"before","required":false,"in":"query","description":"ID da √∫ltima mensagem (para pagina√ß√£o reversa)","schema":{"type":"string"}}],"responses":{"200":{"description":"Lista de mensagens recuperada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageListResponseDto"}}}},"403":{"description":"Sem permiss√£o para acessar esta conversa"},"404":{"description":"Conversa n√£o encontrada"}},"security":[{"JWT-auth":[]}],"summary":"Listar mensagens de uma conversa","tags":["conversations"]},"post":{"description":"Envia uma nova mensagem na conversa. Suporta texto, anexos (imagens/arquivos) e respostas (reply).","operationId":"ConversationsController_sendMessage","parameters":[{"name":"conversacaoId","required":true,"in":"path","description":"ID da conversa","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/CreateMessageDto"}}}},"responses":{"201":{"description":"Mensagem enviada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageDto"}}}},"403":{"description":"Sem permiss√£o para enviar mensagens nesta conversa"},"404":{"description":"Conversa n√£o encontrada"}},"security":[{"JWT-auth":[]}],"summary":"Enviar mensagem em uma conversa","tags":["conversations"]}},"/api/conversations/{conversacaoId}/read":{"put":{"description":"Marca todas as mensagens n√£o lidas de uma conversa como lidas. Atualiza o status de leitura e reseta o contador de mensagens n√£o lidas.","operationId":"ConversationsController_markAsRead","parameters":[{"name":"conversacaoId","required":true,"in":"path","description":"ID da conversa","schema":{"type":"string"}}],"responses":{"200":{"description":"Mensagens marcadas como lidas"},"403":{"description":"Sem permiss√£o para acessar esta conversa"},"404":{"description":"Conversa n√£o encontrada"}},"security":[{"JWT-auth":[]}],"summary":"Marcar mensagens como lidas","tags":["conversations"]}},"/api/conversations/{conversacaoId}/mute":{"put":{"description":"Ativa ou desativa notifica√ß√µes de uma conversa espec√≠fica para o usu√°rio atual.","operationId":"ConversationsController_muteConversation","parameters":[{"name":"conversacaoId","required":true,"in":"path","description":"ID da conversa","schema":{"type":"string"}},{"name":"mute","required":true,"in":"query","description":"true para silenciar, false para dessilenciar","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Status de silenciamento atualizado"},"403":{"description":"Sem permiss√£o para modificar esta conversa"},"404":{"description":"Conversa n√£o encontrada"}},"security":[{"JWT-auth":[]}],"summary":"Silenciar/dessilenciar conversa","tags":["conversations"]}},"/api/conversations/{conversacaoId}/pin":{"put":{"description":"Fixa ou desafixa uma conversa no topo da lista para o usu√°rio atual.","operationId":"ConversationsController_pinConversation","parameters":[{"name":"conversacaoId","required":true,"in":"path","description":"ID da conversa","schema":{"type":"string"}},{"name":"pin","required":true,"in":"query","description":"true para fixar, false para desafixar","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Status de fixa√ß√£o atualizado"},"403":{"description":"Sem permiss√£o para modificar esta conversa"},"404":{"description":"Conversa n√£o encontrada"}},"security":[{"JWT-auth":[]}],"summary":"Fixar/desafixar conversa","tags":["conversations"]}},"/api/conversations/{conversacaoId}":{"delete":{"description":"Arquiva uma conversa para o usu√°rio atual (soft delete por usu√°rio). A conversa continua existindo para o outro participante.","operationId":"ConversationsController_archiveConversation","parameters":[{"name":"conversacaoId","required":true,"in":"path","description":"ID da conversa","schema":{"type":"string"}}],"responses":{"200":{"description":"Conversa arquivada com sucesso"},"403":{"description":"Sem permiss√£o para arquivar esta conversa"},"404":{"description":"Conversa n√£o encontrada"}},"security":[{"JWT-auth":[]}],"summary":"Arquivar conversa","tags":["conversations"]}},"/api/conversations/users/{userId}/block":{"post":{"description":"Bloqueia um usu√°rio, impedindo futuras intera√ß√µes (mensagens, likes, etc).","operationId":"ConversationsController_blockUser","parameters":[{"name":"userId","required":true,"in":"path","description":"ID do usu√°rio a ser bloqueado","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlockUserDto"}}}},"responses":{"201":{"description":"Usu√°rio bloqueado com sucesso"},"400":{"description":"Usu√°rio j√° est√° bloqueado ou tentativa de auto-bloqueio"},"404":{"description":"Usu√°rio n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Bloquear usu√°rio","tags":["conversations"]}},"/api/conversations/users/{userId}/report":{"post":{"description":"Reporta um usu√°rio por comportamento inadequado. A den√∫ncia ser√° analisada pela equipe de modera√ß√£o.","operationId":"ConversationsController_reportUser","parameters":[{"name":"userId","required":true,"in":"path","description":"ID do usu√°rio a ser reportado","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportUserDto"}}}},"responses":{"201":{"description":"Usu√°rio reportado com sucesso"},"400":{"description":"Tentativa de auto-den√∫ncia"},"404":{"description":"Usu√°rio n√£o encontrado"}},"security":[{"JWT-auth":[]}],"summary":"Reportar usu√°rio","tags":["conversations"]}},"/api/cleanup/run-manual":{"post":{"description":"Executa manualmente o processo de limpeza de itens finalizados h√° mais de 30 dias. Remove soft delete no banco e deleta imagens do MinIO.","operationId":"CleanupController_runManualCleanup","parameters":[],"responses":{"201":{"description":"Limpeza executada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"deletedItems":{"type":"number"},"deletedImages":{"type":"number"},"errors":{"type":"array","items":{"type":"string"}},"message":{"type":"string"}}}}}},"401":{"description":"N√£o autorizado"}},"security":[{"JWT-auth":[]}],"summary":"Executar limpeza manual (Admin)","tags":["cleanup"]}}},"info":{"title":"Swepee Backend API","description":"API REST para plataforma de troca e doa√ß√£o de itens\n\n","version":"1.0.0","contact":{}},"tags":[{"name":"health","description":"Health check endpoints"},{"name":"auth","description":"Authentication and authorization endpoints"},{"name":"users","description":"User management endpoints"},{"name":"items","description":"Item management endpoints"},{"name":"discovery","description":"Discovery and matching endpoints"},{"name":"donations","description":"Donation verification endpoints"},{"name":"gamification","description":"Coins and rewards endpoints"},{"name":"search","description":"Search and filtering endpoints"},{"name":"notifications","description":"Notification endpoints"},{"name":"premium","description":"Premium subscription endpoints"}],"servers":[],"components":{"securitySchemes":{"JWT-auth":{"scheme":"bearer","bearerFormat":"JWT","type":"http","name":"JWT","description":"Insira o JWT token obtido atrav√©s do login.\n\nExemplo de formato: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","in":"header"}},"schemas":{"RegisterDto":{"type":"object","properties":{"nome":{"type":"string","description":"Nome completo do usu√°rio","example":"Jo√£o Silva","minLength":2,"maxLength":255},"email":{"type":"string","description":"Email do usu√°rio","example":"joao@example.com"},"senha":{"type":"string","description":"Senha do usu√°rio","example":"MinhaSenh@123","minLength":6}},"required":["nome","email","senha"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","description":"Email do usu√°rio","example":"joao@example.com"},"senha":{"type":"string","description":"Senha do usu√°rio","example":"MinhaSenh@123","minLength":6}},"required":["email","senha"]},"ForgotPasswordDto":{"type":"object","properties":{"email":{"type":"string","description":"Email do usu√°rio","example":"joao@example.com"}},"required":["email"]},"ResetPasswordDto":{"type":"object","properties":{"token":{"type":"string","description":"Token de reset de senha","example":"abc123def456"},"email":{"type":"string","description":"Email do usu√°rio","example":"joao@example.com"},"novaSenha":{"type":"string","description":"Nova senha do usu√°rio","example":"NovaSenh@123","minLength":6}},"required":["token","email","novaSenha"]},"RefreshTokenDto":{"type":"object","properties":{"refreshToken":{"type":"string","description":"Refresh token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["refreshToken"]},"OAuthLinkDto":{"type":"object","properties":{"provider":{"type":"string","example":"google","description":"OAuth provider (google, apple)","enum":["google","apple"]},"email":{"type":"string","example":"user@example.com","description":"Email of the user to link OAuth account"},"password":{"type":"string","example":"password123","description":"Current password to verify account ownership"}},"required":["provider","email","password"]},"RedesSociaisDto":{"type":"object","properties":{"instagram":{"type":"string","description":"Instagram handle"},"twitter":{"type":"string","description":"Twitter handle"},"facebook":{"type":"string","description":"Facebook profile"},"linkedin":{"type":"string","description":"LinkedIn profile"}}},"UpdateUserDto":{"type":"object","properties":{"nome":{"type":"string","description":"Nome completo do usu√°rio","example":"Jo√£o Silva"},"email":{"type":"string","description":"Email do usu√°rio","example":"joao@example.com"},"telefone":{"type":"string","description":"Telefone do usu√°rio","example":"11999887766"},"localizacao":{"type":"string","description":"Localiza√ß√£o do usu√°rio","example":"S√£o Paulo, SP"},"latitude":{"type":"number","description":"Latitude da localiza√ß√£o","example":-23.5505},"longitude":{"type":"number","description":"Longitude da localiza√ß√£o","example":-46.6333},"bio":{"type":"string","description":"Biografia do usu√°rio","example":"Apaixonado por trocas sustent√°veis!"},"avatar":{"type":"string","description":"URL do avatar","example":"https://storage.example.com/avatar.jpg"},"coverImage":{"type":"string","description":"URL da imagem de capa","example":"https://storage.example.com/cover.jpg"},"redesSociais":{"description":"Redes sociais do usu√°rio","allOf":[{"$ref":"#/components/schemas/RedesSociaisDto"}]}}},"ChangePasswordDto":{"type":"object","properties":{"currentPassword":{"type":"string","description":"Senha atual do usu√°rio","example":"minhasenhaatual123"},"newPassword":{"type":"string","description":"Nova senha do usu√°rio (m√≠nimo 8 caracteres, deve conter letra mai√∫scula, min√∫scula, n√∫mero e s√≠mbolo)","example":"NovaSenha123!"}},"required":["currentPassword","newPassword"]},"PrivacidadeDto":{"type":"object","properties":{"perfilPublico":{"type":"boolean","description":"Perfil p√∫blico","example":true},"mostrarTelefone":{"type":"boolean","description":"Mostrar telefone","example":false},"mostrarLocalizacao":{"type":"boolean","description":"Mostrar localiza√ß√£o","example":true}}},"UpdateUserSettingsDto":{"type":"object","properties":{"privacidade":{"description":"Configura√ß√µes de privacidade","allOf":[{"$ref":"#/components/schemas/PrivacidadeDto"}]}}},"UploadAvatarResponseDto":{"type":"object","properties":{"avatarUrl":{"type":"string","description":"URL do avatar carregado","example":"/uploads/avatars/1234567890-avatar.webp"},"message":{"type":"string","description":"Mensagem de sucesso","example":"Avatar carregado com sucesso"}},"required":["avatarUrl","message"]},"AspectosAvaliadosDto":{"type":"object","properties":{"comunicacao":{"type":"number","description":"Comunica√ß√£o (1-5)","minimum":1,"maximum":5},"pontualidade":{"type":"number","description":"Pontualidade (1-5)","minimum":1,"maximum":5},"qualidadeItem":{"type":"number","description":"Qualidade do item (1-5)","minimum":1,"maximum":5},"condicaoItem":{"type":"number","description":"Condi√ß√£o do item (1-5)","minimum":1,"maximum":5},"atencimento":{"type":"number","description":"Atendimento (1-5)","minimum":1,"maximum":5}}},"CreateRatingDto":{"type":"object","properties":{"rating":{"type":"number","description":"Nota de 1 a 5","example":5,"minimum":1,"maximum":5},"comment":{"type":"string","description":"Coment√°rio sobre a avalia√ß√£o","example":"Usu√°rio muito confi√°vel e comunicativo!"},"transactionType":{"type":"string","description":"Tipo de transa√ß√£o","enum":["troca","doacao"],"example":"troca"},"conversationId":{"type":"string","description":"ID da conversa relacionada","example":"550e8400-e29b-41d4-a716-446655440000"},"itemId":{"type":"string","description":"ID do item relacionado","example":"550e8400-e29b-41d4-a716-446655440001"},"aspects":{"description":"Aspectos espec√≠ficos avaliados","allOf":[{"$ref":"#/components/schemas/AspectosAvaliadosDto"}]},"isPublic":{"type":"boolean","description":"Se a avalia√ß√£o deve ser p√∫blica","example":true}},"required":["rating","transactionType","conversationId"]},"InformacoesExtrasDto":{"type":"object","properties":{"marca":{"type":"string","description":"Marca do item"},"modelo":{"type":"string","description":"Modelo do item"},"cor":{"type":"string","description":"Cor do item"},"tamanho":{"type":"string","description":"Tamanho do item"},"peso":{"type":"number","description":"Peso do item em gramas"},"dimensoes":{"type":"object","description":"Dimens√µes do item","properties":{"largura":{"type":"number"},"altura":{"type":"number"},"profundidade":{"type":"number"}}}}},"CreateItemDto":{"type":"object","properties":{"titulo":{"type":"string","description":"T√≠tulo do item","maxLength":255},"descricao":{"type":"string","description":"Descri√ß√£o detalhada do item"},"categoria":{"type":"string","description":"Categoria do item","maxLength":100},"subcategoria":{"type":"string","description":"Subcategoria do item","maxLength":100},"tipo":{"type":"string","description":"Tipo de transa√ß√£o","enum":["troca","doacao","venda"]},"preco":{"type":"number","description":"Pre√ßo do item (para vendas)"},"condicao":{"type":"string","description":"Condi√ß√£o do item","enum":["novo","seminovo","usado"]},"localizacao":{"type":"string","description":"Localiza√ß√£o do item"},"latitude":{"type":"number","description":"Latitude da localiza√ß√£o"},"longitude":{"type":"number","description":"Longitude da localiza√ß√£o"},"destacado":{"type":"boolean","description":"Item destacado","default":false},"tags":{"description":"Tags do item","maxItems":10,"type":"array","items":{"type":"string"}},"informacoesExtras":{"description":"Informa√ß√µes extras do item","allOf":[{"$ref":"#/components/schemas/InformacoesExtrasDto"}]}},"required":["titulo","descricao","categoria","subcategoria","tipo","condicao","localizacao"]},"ItemOwnerDto":{"type":"object","properties":{"id":{"type":"string","description":"ID do usu√°rio"},"nome":{"type":"string","description":"Nome do usu√°rio"},"avatar":{"type":"string","description":"Avatar do usu√°rio"},"avaliacaoMedia":{"type":"string","description":"Avalia√ß√£o m√©dia do usu√°rio"},"totalAvaliacoes":{"type":"number","description":"Total de avalia√ß√µes recebidas"}},"required":["id","nome","avaliacaoMedia","totalAvaliacoes"]},"ItemResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"ID √∫nico do item"},"titulo":{"type":"string","description":"T√≠tulo do item"},"descricao":{"type":"string","description":"Descri√ß√£o do item"},"categoria":{"type":"string","description":"Categoria do item"},"subcategoria":{"type":"string","description":"Subcategoria do item"},"tipo":{"type":"string","description":"Tipo de transa√ß√£o","enum":["troca","doacao","venda"]},"preco":{"type":"number","description":"Pre√ßo do item"},"condicao":{"type":"string","description":"Condi√ß√£o do item","enum":["novo","seminovo","usado"]},"imagens":{"description":"Imagens do item","type":"array","items":{"type":"string"}},"status":{"type":"string","description":"Status do item","enum":["ativo","pendente","inativo","vendido","trocado"]},"localizacao":{"type":"string","description":"Localiza√ß√£o do item"},"latitude":{"type":"number","description":"Latitude da localiza√ß√£o"},"longitude":{"type":"number","description":"Longitude da localiza√ß√£o"},"visualizacoes":{"type":"number","description":"N√∫mero de visualiza√ß√µes"},"likes":{"type":"number","description":"N√∫mero de likes"},"matches":{"type":"number","description":"N√∫mero de matches"},"dataEncerramento":{"format":"date-time","type":"string","description":"Data de encerramento"},"destacado":{"type":"boolean","description":"Item destacado"},"tags":{"description":"Tags do item","type":"array","items":{"type":"string"}},"informacoesExtras":{"description":"Informa√ß√µes extras","allOf":[{"$ref":"#/components/schemas/InformacoesExtrasDto"}]},"usuario":{"description":"Propriet√°rio do item","allOf":[{"$ref":"#/components/schemas/ItemOwnerDto"}]},"createdAt":{"format":"date-time","type":"string","description":"Data de cria√ß√£o"},"updatedAt":{"format":"date-time","type":"string","description":"Data de atualiza√ß√£o"}},"required":["id","titulo","descricao","categoria","subcategoria","tipo","condicao","imagens","status","localizacao","visualizacoes","likes","matches","destacado","usuario","createdAt","updatedAt"]},"PaginatedItemsResponseDto":{"type":"object","properties":{"items":{"description":"Lista de itens","type":"array","items":{"$ref":"#/components/schemas/ItemResponseDto"}},"total":{"type":"number","description":"Total de itens encontrados"},"page":{"type":"number","description":"P√°gina atual"},"limit":{"type":"number","description":"Itens por p√°gina"},"totalPages":{"type":"number","description":"Total de p√°ginas"},"hasNext":{"type":"boolean","description":"H√° pr√≥xima p√°gina"},"hasPrev":{"type":"boolean","description":"H√° p√°gina anterior"}},"required":["items","total","page","limit","totalPages","hasNext","hasPrev"]},"UpdateItemDto":{"type":"object","properties":{"titulo":{"type":"string","description":"T√≠tulo do item","maxLength":255},"descricao":{"type":"string","description":"Descri√ß√£o detalhada do item"},"categoria":{"type":"string","description":"Categoria do item","maxLength":100},"subcategoria":{"type":"string","description":"Subcategoria do item","maxLength":100},"preco":{"type":"number","description":"Pre√ßo do item (para vendas)"},"condicao":{"type":"string","description":"Condi√ß√£o do item","enum":["novo","seminovo","usado"]},"localizacao":{"type":"string","description":"Localiza√ß√£o do item"},"latitude":{"type":"number","description":"Latitude da localiza√ß√£o"},"longitude":{"type":"number","description":"Longitude da localiza√ß√£o"},"destacado":{"type":"boolean","description":"Item destacado","default":false},"tags":{"description":"Tags do item","maxItems":10,"type":"array","items":{"type":"string"}},"informacoesExtras":{"description":"Informa√ß√µes extras do item","allOf":[{"$ref":"#/components/schemas/InformacoesExtrasDto"}]},"status":{"type":"string","description":"Status do item","enum":["ativo","pendente","inativo","vendido","trocado"]}}},"UploadItemImagesResponseDto":{"type":"object","properties":{"imagens":{"description":"URLs das imagens carregadas","type":"array","items":{"type":"string"}},"totalImagens":{"type":"number","description":"N√∫mero total de imagens do item"},"message":{"type":"string","description":"Mensagem de sucesso"}},"required":["imagens","totalImagens","message"]},"ItemStatsDto":{"type":"object","properties":{"visualizacoes":{"type":"number","description":"N√∫mero total de visualiza√ß√µes"},"likes":{"type":"number","description":"N√∫mero total de likes"},"matches":{"type":"number","description":"N√∫mero total de matches"},"visualizacoesHoje":{"type":"number","description":"Visualiza√ß√µes hoje"},"visualizacoesSemana":{"type":"number","description":"Visualiza√ß√µes esta semana"},"visualizacoesMes":{"type":"number","description":"Visualiza√ß√µes este m√™s"}},"required":["visualizacoes","likes","matches","visualizacoesHoje","visualizacoesSemana","visualizacoesMes"]},"UpdateItemStatusDto":{"type":"object","properties":{"status":{"type":"string","description":"Novo status do item","enum":["ativo","pendente","inativo","vendido","trocado"],"example":"ativo"}},"required":["status"]},"DiscoveryItemOwnerDto":{"type":"object","properties":{"id":{"type":"string","description":"ID do usu√°rio"},"nome":{"type":"string","description":"Nome do usu√°rio"},"avatar":{"type":"string","description":"Avatar do usu√°rio"},"avaliacaoMedia":{"type":"string","description":"Avalia√ß√£o m√©dia do usu√°rio"},"totalAvaliacoes":{"type":"number","description":"Total de avalia√ß√µes recebidas"},"distancia":{"type":"number","description":"Dist√¢ncia em KM"}},"required":["id","nome","avaliacaoMedia","totalAvaliacoes"]},"DiscoveryItemDto":{"type":"object","properties":{"id":{"type":"string","description":"ID √∫nico do item"},"titulo":{"type":"string","description":"T√≠tulo do item"},"descricao":{"type":"string","description":"Descri√ß√£o do item"},"categoria":{"type":"string","description":"Categoria do item"},"subcategoria":{"type":"string","description":"Subcategoria do item"},"tipo":{"type":"string","description":"Tipo de transa√ß√£o"},"preco":{"type":"number","description":"Pre√ßo do item"},"condicao":{"type":"string","description":"Condi√ß√£o do item"},"imagens":{"description":"Imagens do item","type":"array","items":{"type":"string"}},"localizacao":{"type":"string","description":"Localiza√ß√£o do item"},"distancia":{"type":"number","description":"Dist√¢ncia em KM do usu√°rio"},"visualizacoes":{"type":"number","description":"N√∫mero de visualiza√ß√µes"},"likes":{"type":"number","description":"N√∫mero de likes"},"tags":{"description":"Tags do item","type":"array","items":{"type":"string"}},"usuario":{"description":"Propriet√°rio do item","allOf":[{"$ref":"#/components/schemas/DiscoveryItemOwnerDto"}]},"createdAt":{"format":"date-time","type":"string","description":"Data de cria√ß√£o"}},"required":["id","titulo","descricao","categoria","subcategoria","tipo","condicao","imagens","localizacao","visualizacoes","likes","usuario","createdAt"]},"FeedResponseDto":{"type":"object","properties":{"items":{"description":"Lista de itens no feed","type":"array","items":{"$ref":"#/components/schemas/DiscoveryItemDto"}},"total":{"type":"number","description":"Total de itens dispon√≠veis"},"page":{"type":"number","description":"P√°gina atual"},"limit":{"type":"number","description":"Itens por p√°gina"},"totalPages":{"type":"number","description":"Total de p√°ginas"},"hasNext":{"type":"boolean","description":"H√° pr√≥xima p√°gina"}},"required":["items","total","page","limit","totalPages","hasNext"]},"LikeItemDto":{"type":"object","properties":{"tipo":{"type":"string","description":"Tipo do like","enum":["like","superlike"],"default":"like"}}},"LikeResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"Mensagem de sucesso"},"isMatch":{"type":"boolean","description":"Indica se houve um match"},"matchId":{"type":"string","description":"ID do match criado"},"conversacaoId":{"type":"string","description":"ID da conversa criada"}},"required":["message","isMatch"]},"LikedItemDto":{"type":"object","properties":{"id":{"type":"string","description":"ID √∫nico do item"},"titulo":{"type":"string","description":"T√≠tulo do item"},"descricao":{"type":"string","description":"Descri√ß√£o do item"},"categoria":{"type":"string","description":"Categoria do item"},"subcategoria":{"type":"string","description":"Subcategoria do item"},"tipo":{"type":"string","description":"Tipo de transa√ß√£o"},"preco":{"type":"number","description":"Pre√ßo do item"},"condicao":{"type":"string","description":"Condi√ß√£o do item"},"imagens":{"description":"Imagens do item","type":"array","items":{"type":"string"}},"localizacao":{"type":"string","description":"Localiza√ß√£o do item"},"distancia":{"type":"number","description":"Dist√¢ncia em KM do usu√°rio"},"visualizacoes":{"type":"number","description":"N√∫mero de visualiza√ß√µes"},"likes":{"type":"number","description":"N√∫mero de likes"},"tags":{"description":"Tags do item","type":"array","items":{"type":"string"}},"usuario":{"description":"Propriet√°rio do item","allOf":[{"$ref":"#/components/schemas/DiscoveryItemOwnerDto"}]},"createdAt":{"format":"date-time","type":"string","description":"Data de cria√ß√£o"},"likeTipo":{"type":"string","description":"Tipo do like"},"dataLike":{"format":"date-time","type":"string","description":"Data do like"},"hasMatch":{"type":"boolean","description":"Indica se houve match"}},"required":["id","titulo","descricao","categoria","subcategoria","tipo","condicao","imagens","localizacao","visualizacoes","likes","usuario","createdAt","likeTipo","dataLike","hasMatch"]},"LikedItemsResponseDto":{"type":"object","properties":{"items":{"description":"Lista de itens curtidos","type":"array","items":{"$ref":"#/components/schemas/LikedItemDto"}},"total":{"type":"number","description":"Total de itens curtidos"},"page":{"type":"number","description":"P√°gina atual"},"limit":{"type":"number","description":"Itens por p√°gina"},"totalPages":{"type":"number","description":"Total de p√°ginas"},"hasNext":{"type":"boolean","description":"H√° pr√≥xima p√°gina"}},"required":["items","total","page","limit","totalPages","hasNext"]},"MatchDto":{"type":"object","properties":{"id":{"type":"string","description":"ID do match"},"tipo":{"type":"string","description":"Tipo de match"},"dataMatch":{"format":"date-time","type":"string","description":"Data do match"},"item":{"description":"Item que gerou o match","allOf":[{"$ref":"#/components/schemas/DiscoveryItemDto"}]},"outroUsuario":{"description":"Outro usu√°rio do match","allOf":[{"$ref":"#/components/schemas/DiscoveryItemOwnerDto"}]},"conversacaoId":{"type":"string","description":"ID da conversa"},"visualizado":{"type":"boolean","description":"Match visualizado"}},"required":["id","tipo","dataMatch","item","outroUsuario","visualizado"]},"MatchesResponseDto":{"type":"object","properties":{"matches":{"description":"Lista de matches","type":"array","items":{"$ref":"#/components/schemas/MatchDto"}},"total":{"type":"number","description":"Total de matches"},"naoVisualizados":{"type":"number","description":"Total de matches n√£o visualizados"}},"required":["matches","total","naoVisualizados"]},"ConversationParticipantDto":{"type":"object","properties":{"id":{"type":"string","description":"ID do usu√°rio"},"nome":{"type":"string","description":"Nome do usu√°rio"},"avatar":{"type":"string","description":"Avatar do usu√°rio"},"isOnline":{"type":"boolean","description":"Indica se o usu√°rio est√° online"},"lastSeen":{"format":"date-time","type":"string","description":"√öltima vez online"}},"required":["id","nome","isOnline"]},"ConversationItemDto":{"type":"object","properties":{"id":{"type":"string","description":"ID do item"},"titulo":{"type":"string","description":"T√≠tulo do item"},"imagem":{"type":"string","description":"Primeira imagem do item"}},"required":["id","titulo"]},"ConversationDto":{"type":"object","properties":{"id":{"type":"string","description":"ID da conversa"},"tipo":{"type":"string","description":"Tipo da conversa"},"outroParticipante":{"description":"Outro participante da conversa","allOf":[{"$ref":"#/components/schemas/ConversationParticipantDto"}]},"item":{"description":"Item relacionado","allOf":[{"$ref":"#/components/schemas/ConversationItemDto"}]},"ultimaMensagem":{"type":"string","description":"√öltima mensagem"},"dataUltimaMensagem":{"format":"date-time","type":"string","description":"Data da √∫ltima mensagem"},"mensagensNaoLidas":{"type":"number","description":"N√∫mero de mensagens n√£o lidas"},"silenciada":{"type":"boolean","description":"Conversa est√° silenciada"},"fixada":{"type":"boolean","description":"Conversa est√° fixada"},"arquivada":{"type":"boolean","description":"Conversa est√° arquivada"},"createdAt":{"format":"date-time","type":"string","description":"Data de cria√ß√£o"},"updatedAt":{"format":"date-time","type":"string","description":"Data de atualiza√ß√£o"}},"required":["id","tipo","outroParticipante","mensagensNaoLidas","silenciada","fixada","arquivada","createdAt","updatedAt"]},"ConversationListResponseDto":{"type":"object","properties":{"conversations":{"description":"Lista de conversas","type":"array","items":{"$ref":"#/components/schemas/ConversationDto"}},"total":{"type":"number","description":"Total de conversas"},"totalUnread":{"type":"number","description":"Total de mensagens n√£o lidas"},"page":{"type":"number","description":"P√°gina atual"},"limit":{"type":"number","description":"Itens por p√°gina"},"totalPages":{"type":"number","description":"Total de p√°ginas"},"hasNext":{"type":"boolean","description":"H√° pr√≥xima p√°gina"}},"required":["conversations","total","totalUnread","page","limit","totalPages","hasNext"]},"MessageAttachmentDto":{"type":"object","properties":{"url":{"type":"string","description":"URL do anexo"},"nome":{"type":"string","description":"Nome do arquivo"},"tipo":{"type":"string","description":"Tipo do anexo"},"tamanho":{"type":"number","description":"Tamanho em bytes"}},"required":["url","nome","tipo","tamanho"]},"MessageDto":{"type":"object","properties":{"id":{"type":"string","description":"ID da mensagem"},"conversacaoId":{"type":"string","description":"ID da conversa"},"remetenteId":{"type":"string","description":"ID do remetente"},"remetenteNome":{"type":"string","description":"Nome do remetente"},"remetenteAvatar":{"type":"string","description":"Avatar do remetente"},"texto":{"type":"string","description":"Conte√∫do da mensagem"},"tipo":{"type":"string","description":"Tipo da mensagem"},"anexos":{"description":"Anexos da mensagem","type":"array","items":{"$ref":"#/components/schemas/MessageAttachmentDto"}},"lida":{"type":"boolean","description":"Mensagem foi lida"},"dataLeitura":{"format":"date-time","type":"string","description":"Data de leitura"},"entregue":{"type":"boolean","description":"Mensagem foi entregue"},"dataEntrega":{"format":"date-time","type":"string","description":"Data de entrega"},"timestamp":{"format":"date-time","type":"string","description":"Timestamp da mensagem"},"mensagemPaiId":{"type":"string","description":"ID da mensagem pai (reply)"},"editada":{"type":"boolean","description":"Mensagem foi editada"},"dataEdicao":{"format":"date-time","type":"string","description":"Data da √∫ltima edi√ß√£o"},"isOwn":{"type":"boolean","description":"√â mensagem do usu√°rio atual"}},"required":["id","conversacaoId","remetenteId","remetenteNome","texto","tipo","lida","entregue","timestamp","editada","isOwn"]},"MessageListResponseDto":{"type":"object","properties":{"messages":{"description":"Lista de mensagens","type":"array","items":{"$ref":"#/components/schemas/MessageDto"}},"total":{"type":"number","description":"Total de mensagens na conversa"},"hasMore":{"type":"boolean","description":"H√° mensagens mais antigas"},"lastMessageId":{"type":"string","description":"ID da √∫ltima mensagem retornada"}},"required":["messages","total","hasMore"]},"CreateMessageDto":{"type":"object","properties":{"texto":{"type":"string","description":"Conte√∫do da mensagem"},"tipo":{"type":"string","description":"Tipo da mensagem","enum":["texto","imagem","audio","arquivo"],"default":"texto"},"mensagemPaiId":{"type":"string","description":"ID da mensagem pai (para respostas)"}},"required":["texto"]},"BlockUserDto":{"type":"object","properties":{"motivo":{"type":"string","description":"Motivo do bloqueio","maxLength":500}}},"ReportUserDto":{"type":"object","properties":{"motivo":{"type":"string","description":"Motivo da den√∫ncia"},"detalhes":{"type":"string","description":"Detalhes adicionais da den√∫ncia","maxLength":1000}},"required":["motivo"]}}}}